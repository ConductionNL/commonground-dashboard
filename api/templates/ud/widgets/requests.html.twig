<div class="card p-4 full-height">
    <div class="card-header">
        <h3 class="d-inline-block">{{ 'requests'|trans|capitalize }}</h3>
    </div>

    {% if requests is defined %}
        <div class="card-list">

                <div class="item-list">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">{{ 'reference'|trans|capitalize }}</th>
                            <th scope="col">{{ 'type'|trans|capitalize }}</th>
                            <th scope="col">{{ 'status'|trans|capitalize }}</th>
                            <th scope="col">{{ 'progress'|trans|capitalize }}</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for request in requests %}
                            {% if request.organization == app.user.organization %}
                            <tr>
                                <td>{{ request.reference }}</td>
                                <td>{{ commonground_resource(request.requestType).name }}</td>
                                <td>{{ request.status|trans|capitalize}}</td>
                                <td >
                                        {% if request.status is same as('incomplete') %}
                                            <div class="progress" style="height: 25px;">
                                                <div class="progress-bar" role="progressbar" style="width: 25%; color: black; background-color: red;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        {% elseif request.status is same as('complete') %}
                                            <div class="progress" style="height: 25px;">
                                                <div class="progress-bar" role="progressbar" style="width: 50%; color: black; background-color:orangered;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        {% elseif request.status is same as('submitted') %}
                                            <div class="progress" style="height: 25px;">
                                                <div class="progress-bar" role="progressbar" style="width: 75%; color: black; background-color: limegreen" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        {% elseif request.status is same as('processed') %}
                                            <div class="progress" style="height: 25px;">
                                                <div class="progress-bar" role="progressbar" style="width: 100%; color: black; background-color: green" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        {% endif %}
                                    </td>
                                <td><a style="background: #cfebfd; padding: 6px; border-radius: 6px" href="{{ path('app_vrc_request', {id: request.id}) }}"><i class="far fa-edit mr-2"></i><b>{{ 'edit'|trans|capitalize }}</b></a></td>
                            </tr><!-- /.card-list -->
                            {% endif %}
                        {% endfor %}
                        </tbody>
                    </table>
                </div><!-- /.item-list -->

        </div><!-- /.card-list -->
    {% endif %}


</div><!-- /.card -->
